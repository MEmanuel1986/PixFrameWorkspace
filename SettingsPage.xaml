<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="PixFrameWorkspace.SettingsPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="Einstellungen">

    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="20">

            <!-- Header -->
            <Label Text="Einstellungen" 
                   FontSize="24" 
                   FontAttributes="Bold" 
                   HorizontalOptions="Center" 
                   TextColor="#2C3E50" />

            <!-- STATISTIKEN -->
            <Frame BackgroundColor="#F8F9FA" Padding="15" HasShadow="False">
                <VerticalStackLayout Spacing="12">
                    <Label Text="Statistiken" 
               FontSize="18" 
               FontAttributes="Bold" 
               TextColor="#2C3E50" />

                    <!-- Grundlegende Statistiken -->
                    <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto" ColumnSpacing="15" RowSpacing="10">
                        <!-- Zeile 1 -->
                        <VerticalStackLayout Grid.Row="0" Grid.Column="0" Spacing="2">
                            <Label Text="Anzahl Kunden:" FontSize="12" FontAttributes="Bold" />
                            <Label x:Name="CustomerCountLabel" Text="0" FontSize="14" TextColor="#2C3E50" />
                        </VerticalStackLayout>

                        <VerticalStackLayout Grid.Row="0" Grid.Column="1" Spacing="2">
                            <Label Text="Nächste Kundennummer:" FontSize="12" FontAttributes="Bold" />
                            <Label x:Name="NextCustomerNumberLabel" Text="1000" FontSize="14" TextColor="#2C3E50" />
                        </VerticalStackLayout>

                        <!-- Zeile 2 - Dateigrößen -->
                        <VerticalStackLayout Grid.Row="1" Grid.Column="0" Spacing="2">
                            <Label Text="Datenbank-Größe:" FontSize="12" FontAttributes="Bold" />
                            <Label x:Name="DatabaseSizeLabel" Text="0 B" FontSize="14" TextColor="#2C3E50" />
                        </VerticalStackLayout>

                        <VerticalStackLayout Grid.Row="1" Grid.Column="1" Spacing="2">
                            <Label Text="Backup-Größe:" FontSize="12" FontAttributes="Bold" />
                            <Label x:Name="BackupSizeLabel" Text="0 B" FontSize="14" TextColor="#2C3E50" />
                        </VerticalStackLayout>

                        <!-- Zeile 3 - Ordner-Größe über beide Spalten -->
                        <VerticalStackLayout Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Spacing="2">
                            <Label Text="Gesamtgröße Kundenordner:" FontSize="12" FontAttributes="Bold" />
                            <Label x:Name="TotalFoldersSizeLabel" Text="0 B" FontSize="14" TextColor="#2C3E50" />
                        </VerticalStackLayout>
                    </Grid>

                    <!-- Vollständiger Pfad mit Ordner-Button -->
                    <Grid ColumnDefinitions="*,Auto" ColumnSpacing="10" VerticalOptions="Center">
                        <Label x:Name="DatabasePathLabel" 
                   Text="Pfad wird geladen..." 
                   FontSize="11" 
                   TextColor="Gray" 
                   LineBreakMode="TailTruncation"
                   VerticalOptions="Center"
                   Grid.Column="0" />

                        <Button Grid.Column="1"
                    Text="Ordner öffnen" 
                    Clicked="OnOpenDatabaseFolderButtonClicked"
                    BackgroundColor="Gray"
                    TextColor="#FFFFFF"
                    FontSize="11"
                    Padding="0"
                    Margin="0" />
                    </Grid>

                </VerticalStackLayout>
            </Frame>

            <!-- DATENVERWALTUNG -->
            <Frame BackgroundColor="#F8F9FA" Padding="15" HasShadow="False">
                <VerticalStackLayout Spacing="12">
                    <Label Text="Datenverwaltung" 
                           FontSize="18" 
                           FontAttributes="Bold" 
                           TextColor="#2C3E50" />

                    <!-- Backup Button -->
                    <Button x:Name="BackupButton" 
                            Text="Backup erstellen" 
                            Clicked="OnBackupButtonClicked"
                            BackgroundColor="#3498DB"
                            TextColor="White"
                            HeightRequest="40" />

                    <!-- Update Kundenmodell Button -->
                    <Button x:Name="UpdateModelButton" 
                            Text="Kundenmodell aktualisieren" 
                            Clicked="OnUpdateModelButtonClicked"
                            BackgroundColor="#27AE60"
                            TextColor="White"
                            HeightRequest="40" />

                    <!-- Migrations-Button -->
                    <Button x:Name="MigrationButton" 
                        Text="Daten migrieren" 
                        Clicked="OnMigrationButtonClicked"
                        BackgroundColor="#9B59B6"
                        TextColor="White"
                        HeightRequest="40" />

                </VerticalStackLayout>
            </Frame>

            <!-- GEFAHRENZONE -->
            <Frame BackgroundColor="#FDEDEC" Padding="15" HasShadow="False" BorderColor="#E74C3C">
                <VerticalStackLayout Spacing="12">
                    <Label Text="Gefahrenzone" 
                           FontSize="18" 
                           FontAttributes="Bold" 
                           TextColor="#C0392B" />

                    <Label Text="Diese Aktionen können nicht rückgängig gemacht werden!" 
                           FontSize="12" 
                           TextColor="#E74C3C" />

                    <!-- Datenbank löschen -->
                    <Button x:Name="DeleteDatabaseButton" 
                            Text="Alle Kundendaten löschen" 
                            Clicked="OnDeleteDatabaseButtonClicked"
                            BackgroundColor="#E74C3C"
                            TextColor="White"
                            HeightRequest="40" />

                    <!-- Ordner löschen -->
                    <Button x:Name="DeleteFoldersButton" 
                            Text="Alle Kundenordner löschen" 
                            Clicked="OnDeleteFoldersButtonClicked"
                            BackgroundColor="#E67E22"
                            TextColor="White"
                            HeightRequest="40" />

                    <!-- Alles löschen -->
                    <Button x:Name="DeleteAllButton" 
                            Text="Alles löschen (Daten + Ordner)" 
                            Clicked="OnDeleteAllButtonClicked"
                            BackgroundColor="#C0392B"
                            TextColor="White"
                            HeightRequest="40" />

                </VerticalStackLayout>
            </Frame>

            <!-- EXTERNE TOOLS KONFIGURATION -->
            <Frame BackgroundColor="#F0F8FF" Padding="15" HasShadow="False">
                <VerticalStackLayout Spacing="12">
                    <Label Text="Externe Tools" 
                           FontSize="18" 
                           FontAttributes="Bold" 
                           TextColor="#2C3E50" />

                    <Label Text="Wählen Sie die Tools aus, die Sie schnell starten möchten:" 
                           FontSize="12" 
                           TextColor="Gray" />

                    <!-- Foto Bearbeitung -->
                    <VerticalStackLayout Spacing="8">
                        <Label Text="Foto Bearbeitung" FontSize="14" FontAttributes="Bold" />

                        <!-- Zeile 1 -->
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="15">
                            <!-- Links -->
                            <HorizontalStackLayout Grid.Column="0" Spacing="10">
                                <CheckBox x:Name="PhotoshopCheckBox" VerticalOptions="Center" />
                                <Label Text="Adobe Photoshop" FontSize="12" VerticalOptions="Center" />
                            </HorizontalStackLayout>

                            <!-- Rechts -->
                            <HorizontalStackLayout Grid.Column="1" Spacing="10">
                                <CheckBox x:Name="LightroomCheckBox" VerticalOptions="Center" />
                                <Label Text="Adobe Lightroom" FontSize="12" VerticalOptions="Center" />
                            </HorizontalStackLayout>
                        </Grid>

                        <!-- Zeile 2 -->
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="15">
                            <!-- Links -->
                            <HorizontalStackLayout Grid.Column="0" Spacing="10">
                                <CheckBox x:Name="GimpCheckBox" VerticalOptions="Center" />
                                <Label Text="GIMP" FontSize="12" VerticalOptions="Center" />
                            </HorizontalStackLayout>

                            <!-- Rechts -->
                            <HorizontalStackLayout Grid.Column="1" Spacing="10">
                                <CheckBox x:Name="AffinityPhotoCheckBox" VerticalOptions="Center" />
                                <Label Text="Affinity Photo" FontSize="12" VerticalOptions="Center" />
                            </HorizontalStackLayout>
                        </Grid>
                    </VerticalStackLayout>

                    <!-- Video Bearbeitung -->
                    <VerticalStackLayout Spacing="8">
                        <Label Text="Video Bearbeitung" FontSize="14" FontAttributes="Bold" />

                        <!-- Zeile 1 -->
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="15">
                            <!-- Links -->
                            <HorizontalStackLayout Grid.Column="0" Spacing="10">
                                <CheckBox x:Name="DavinciResolveCheckBox" VerticalOptions="Center" />
                                <Label Text="DaVinci Resolve" FontSize="12" VerticalOptions="Center" />
                            </HorizontalStackLayout>

                            <!-- Rechts -->
                            <HorizontalStackLayout Grid.Column="1" Spacing="10">
                                <CheckBox x:Name="IMovieCheckBox" VerticalOptions="Center" />
                                <Label Text="iMovie" FontSize="12" VerticalOptions="Center" />
                            </HorizontalStackLayout>
                        </Grid>

                        <!-- Zeile 2 -->
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="15">
                            <!-- Links -->
                            <HorizontalStackLayout Grid.Column="0" Spacing="10">
                                <CheckBox x:Name="PremiereProCheckBox" VerticalOptions="Center" />
                                <Label Text="Adobe Premiere Pro" FontSize="12" VerticalOptions="Center" />
                            </HorizontalStackLayout>

                            <!-- Rechts -->
                            <HorizontalStackLayout Grid.Column="1" Spacing="10">
                                <CheckBox x:Name="FinalCutProCheckBox" VerticalOptions="Center" />
                                <Label Text="Final Cut Pro" FontSize="12" VerticalOptions="Center" />
                            </HorizontalStackLayout>
                        </Grid>
                    </VerticalStackLayout>

                    <!-- Weitere Tools -->
                    <VerticalStackLayout Spacing="8">
                        <Label Text="Weitere Tools" FontSize="14" FontAttributes="Bold" />

                        <!-- Zeile 1 -->
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="15">
                            <!-- Links -->
                            <HorizontalStackLayout Grid.Column="0" Spacing="10">
                                <CheckBox x:Name="CaptureOneCheckBox" VerticalOptions="Center" />
                                <Label Text="Capture One" FontSize="12" VerticalOptions="Center" />
                            </HorizontalStackLayout>

                            <!-- Rechts -->
                            <HorizontalStackLayout Grid.Column="1" Spacing="10">
                                <CheckBox x:Name="CamerabagCheckBox" VerticalOptions="Center" />
                                <Label Text="Camerabag Photo" FontSize="12" VerticalOptions="Center" />
                            </HorizontalStackLayout>
                        </Grid>
                    </VerticalStackLayout>

                    <Button x:Name="SaveToolsButton" 
                            Text="Tools speichern" 
                            Clicked="OnSaveToolsButtonClicked"
                            BackgroundColor="#3498DB"
                            TextColor="White"
                            HeightRequest="40" />

                </VerticalStackLayout>
            </Frame>

            <!-- ERWEITERTE SPEICHEROPTIONEN -->
            <Frame BackgroundColor="#F0F8FF" Padding="15" HasShadow="False">
                <VerticalStackLayout Spacing="12">
                    <Label Text="Erweiterte Speicheroptionen" 
                           FontSize="18" 
                           FontAttributes="Bold" 
                           TextColor="#2C3E50" />

                    <!-- Export als JSON -->
                    <Button x:Name="ExportJsonButton" 
                            Text="Als JSON exportieren" 
                            Clicked="OnExportJsonButtonClicked"
                            BackgroundColor="#8E44AD"
                            TextColor="White"
                            HeightRequest="40" />

                    <!-- Import aus JSON -->
                    <Button x:Name="ImportJsonButton" 
                            Text="Aus JSON importieren" 
                            Clicked="OnImportJsonButtonClicked"
                            BackgroundColor="#9B59B6"
                            TextColor="White"
                            HeightRequest="40" />

                    <!-- Daten bereinigen -->
                    <Button x:Name="CleanDataButton" 
                            Text="Daten bereinigen" 
                            Clicked="OnCleanDataButtonClicked"
                            BackgroundColor="#16A085"
                            TextColor="White"
                            HeightRequest="40" />

                </VerticalStackLayout>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>